<project name="jsword" default="all">

	<!-- This build uses the core build targets -->
	<import file="../jsword/core.xml" />

	<target name="findbugs" depends="build,findbugs.download">
		<mkdir dir="${target.web}/findbugs" />
		<findbugs home="${findbugs.home}" projectName="JSword/BibleDesktop" output="html" outputFile="${target.web}/findbugs/index.html" reportLevel="low" workHard="true" jvmargs="-Xmx512m">
			<class location="${target.jar}/jsword-${release.version}.jar" />
			<sourcePath>
				<dirset dir=".." includes="**/${source.java}" />
			</sourcePath>
			<auxClasspath>
				<fileset dir="${target.jar}" includes="*.jar" />
			</auxClasspath>
		</findbugs>
	</target>

	<!--=======================================================================
    == Use the prepare.extra hook to get dependency jars.
    =========================================================================-->
	<target name="prepare.extra" depends="ivy.resolve" description="Prepare extras files.">
		<echo message="Done getting 3-rd Party dependencies." />
	</target>

	<!--=======================================================================
    == When we clean jsword, we also have to delete the keystore file.
    =========================================================================-->
	<target name="clean.extra" description="Extra stuff to do after calling clean">
		<delete dir="${keystore.file}" />
	</target>

</project>
